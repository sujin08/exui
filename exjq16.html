<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CARS</title>
    <style>
        #track {
            border: 1px solid black;
            width: 100%;
            height: 300px;
            position: relative;
        }

        #track img.car {
            width: 50px;
            height: 50px;
            position: absolute;
            left: 0px;
            top: 0px;
        }
    </style>
    <script src="jquery-3.4.1.js"></script>
    <script>
        $(function () {
            $('.car').each(function (idx, elm) {
                $(elm).css('top', idx * 60);
            });
            $('#startBtn').on('click', function () {
                    var timerId = window.setInterval(function () {

                        $('.car').each(function (idx, elm) {
                            var oldLeft = $(elm).position().left;
                            var newLeft = oldLeft + Math.random() * 10;
                            $(elm).css('left', newLeft);
                            //newLeft
                            var trackWidth = $('#track').width();
                            var carWidth = $(elm).width();
                            if (newLeft + carWidth >= trackWidth) {
                                window.clearInterval(timerId);
                            }
                        });
                    }, 100); //100ms마다 한번씩 함수를 실행

                });
            });
    </script>
</head>

<body>
    <h1>자동차 경주</h1>
    <button id="startBtn">출발!</button>
    <div id="track">
        <img class="car" src="./img/meta.png" alt="자동차" />
        <img class="car" src="./img/meta2.png" alt="자동차" />
        <img class="car" src="./img/car1.png" alt="자동차" />
        <img class="car" src="./img/car2.png" alt="자동차" />
    </div>
</body>

</html>